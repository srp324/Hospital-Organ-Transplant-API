<!DOCTYPE html>
<html>

    <head>
        <title>Hospital Organ Transplant API</title>
        <meta name = "viewport" content = "width = device-width, initial-scale = 1">
        
        <!-- Import JQuery, AJAX, and Bootstrap -->
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>

        <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/lodash.js/4.17.10/lodash.min.js"></script>
        <script src="http://d3js.org/d3.v3.min.js" charset="utf-8"></script>
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/alchemyjs/0.4.2/alchemy.min.css"/>
    </head>

    <body>
        <div class="alchemy" id="alchemy"></div>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/alchemyjs/0.4.2/alchemy.min.js"></script>
        <script type="text/javascript">
        
            var config = {
                //TODO: Replace getOrgan.json with API call to /getOrgan?organ=kidney
                dataSource: 'data/getOrgan.json',
                forceLocked: false,
                graphHeight: function () { return 600; },
                graphWidth: function () { return 800; },
                linkDistance: function () { return 40; },
                nodeTypes: {
                    "type": ["organ", "pediatric", "adult"]
                },
                nodeCaption: function (node) {
                    if(node.rate)
                        return node.caption + "-" + node.rate;
                    else
                        return node.caption;
                },
                nodeStyle: {
                    "organ": {
                        "radius": 25,
                        "color": "#00ce06",
                        "borderColor": "009e04",
                        "borderWidth": 5
                    },
                    "pediatric": {
                        "radius": function (d) { return d.getProperties().rate / 8; },
                        "borderWidth": function (d, radius) { return radius / 5; },
                    },
                    "adult": {
                        "radius": function (d) { return d.getProperties().rate / 8; },
                        "color": "#ff4242",
                        "borderColor": "#ad2222",
                        "borderWidth": function (d, radius) { return radius / 5; },
                    }
                },
                edgeStyle: {
                    "all": {
                        "width": 2
                    }
                }
            };

            alchemy = new Alchemy(config);
            
        </script>
    </body>

</html>